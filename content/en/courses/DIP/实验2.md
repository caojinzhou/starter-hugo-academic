---
title: 实验2 参考代码
date: '2021-01-01'
type: book
weight: 20
active: false
draft: true
---

## 一、实验目的

>1.	掌握线性/非线性滤波的基本原理方法。
>2. 掌握傅里叶变换及逆变换的基本原理方法。
>2.	理解频域滤波的基本原理及方法。
>3.	掌握进行图像的频域滤波的方法。
>5. 以MATLAB为例，需要熟悉下列命令：熟悉imread()函数、imwrite()函数、size()函数、subplot()函数、figure()函数。

## 二、实验环境

> Matlab

## 三、实验内容

> 1、平滑空域滤波

1)	读出一幅灰度图像，给这幅图像分别加入椒盐噪声和高斯噪声后并与前一张图显示在同一图像窗口中。

```matlab
im = imread('lena.jpg');

% imnoise 是表示添加噪声污染一幅图像，叫做噪声污染图像函数
im_noise_salt = imnoise(im,'salt & pepper'); % 加入椒盐噪声
im_noise_gaussian = imnoise(im,'gaussian'); % 加入高斯噪声

% 显示加入噪声后的图像
% figure,imshow(im_noise_salt);title('加入椒盐噪声后的图像');
% figure,imshow(im_noise_gaussian);title('加入高斯噪声后的图像');
figure;
subplot(131),imshow(im);title('原图');
subplot(132),imshow(im_noise_salt);title('加入椒盐噪声后的图像');
subplot(133),imshow(im_noise_gaussian);title('加入高斯噪声后的图像');
```

2)	对加入噪声图像选用不同的平滑（低通）模板做运算，对比不同模板所形成的效果，要求在同一窗口中显示。
```matlab


```
3)使用函数imfilter，分别采用不同的填充方法（或边界选项，如零填充、’replicate’、’symmetric’、’circular’）进行低通滤波，显示处理后的图像。
```matlab



```

4)运用for循环，将加有椒盐噪声的图像进行10次、20次均值滤波，查看其特点，显示均值处理后的图像（提示:利用fspecial函数的’average’类型生成均值滤波器）。
```matlab


```

5)	对加入椒盐和高斯噪声的图像分别采用均值滤波法，和中值滤波法对有噪声的图像做处理，要求在同一窗口中显示结果。
```matlab
% 使用均值滤波分别对高斯噪声、椒盐噪声的图像进行滤波
% fspecial函数 用来生成滤波器（也叫算子）的函数
% h = fspecial(type)  h = fspecial(type，para) 
% 使用type参数来指定滤波器的种类，使用para来对具体的滤波器种类添加额外的参数信息。h就是生成的滤波器。

n=1; m=2*n+1;
A = fspecial('average',m); % 生成系统自带3×3滤波器

% filter2 - 二维数字滤波器 
% Y = filter2(H,X)  根据矩阵 H 中的系数，对数据矩阵 X 应用有限脉冲响应滤波器。
% 进行滤波并显示图像
im_filtered1 = filter2(A,im_noise_salt);
im_filtered2 = filter2(A,im_noise_gaussian);
figure;
subplot(321),imshow(im_noise_salt);title('加入椒盐噪声后的图像');
subplot(322),imshow(im_noise_gaussian);title('加入高斯噪声后的图像');
subplot(323),imshow(uint8(im_filtered1));title('椒盐噪声图像进行均值滤波后的图像');
subplot(324),imshow(uint8(im_filtered2));title('高斯噪声图像进行均值滤波后的图像');

% 使用中值滤波分别对高斯噪声、椒盐噪声的图像进行滤波
% 定义邻域尺寸
n1 = 2; m1 = 2*n1+1;
n2 = 2; m2 = 2*n2+1;

% medfilt2函数用于执行二维中值滤波，使用方法如下：
% B = medfilt2(A, [m n]) B = medfilt2(A)
% 其中[m n]表示邻域块的大小，默认值为[3 3]。 b=medfilt2(a,[m,n]);
% b是中值滤波后的图象矩阵，a是原图矩阵，m和n是处理模版大小，默认3×3。
im_filtered11 = medfilt2(im_noise_salt,[m1,m2]);
im_filtered22 = medfilt2(im_noise_gaussian,[m1,m2]);
subplot(325),imshow(im_filtered11);title('椒盐噪声图像进行中值滤波后的图像');
subplot(326),imshow(im_filtered22);title('高斯噪声图像进行中值滤波后的图像');
```

6)	自己设计平滑空间滤波器，并将其对噪声图像进行处理，显示处理后的图像。
```matlab


```





> 2、锐化空域滤波

1） 读出一幅灰度图像，采用 的拉普拉斯算子 对其进行滤波。
```matlab
```


2)	编写函数w = genlaplacian(n)，自动产生任一奇数尺寸$N$的拉普拉斯算子，如5 $*$ 5的拉普拉斯算子。
```matlab
```


3)	分别采用 、 、 和 大小的拉普拉斯算子对图像进行锐化滤波，并利用式.完成图像的锐化增强，观察其有何不同，要求在同一窗口中显示。
```matlab
```

4)	采用不同的梯度算子对图像进行锐化滤波，并比较其效果。
```matlab
```


5)	自己设计锐化空间滤波器，并将其对噪声图像进行处理，显示处理后的图像。
```matlab
```




> 3、傅里叶变换

1)	读出一幅灰度图像，对其进行快速傅里叶变换，分别显示其幅度图像和相位图像。

```matlab
clear
clc
img=imread('xx.png');
subplot(2,2,1);imshow(img);title('原图');
f=rgb2gray(img);    %对于RGB图像必须做的一步，也可以用im2double函数
F=fft2(f);          %傅里叶变换
F1=log(abs(F)+1);   %取模并进行缩放
subplot(2,2,2);imshow(F1,[]);title('傅里叶变换频谱图');

Fs=fftshift(F);      %将频谱图中零频率成分移动至频谱图中心
S=log(abs(Fs)+1);    %取模并进行缩放
subplot(2,2,3);imshow(S,[]);title('频移后的频谱图');
```


2)	仅对相位部分进行傅里叶逆变换后查看结果图像。

```matlab
phase=log(angle(F)*180/pi);     %图像相位谱
subplot(2,2,4),imshow(phase,[]),title('图像相位谱');
```

3)	仅对幅度部分进行傅里叶逆变换后查看结果图像。
```matlab
margin=log(abs(F));      %图像幅度谱，加log便于显示
subplot(2,2,3),imshow(margin,[]),title('图像幅度谱');
```

4)	将图像的傅里叶变换 置为其共轭后进行逆变换，比较新生成图像与原始图像的差异。

```matlab
fr=real(ifft2(ifftshift(Fs)));  %频率域反变换到空间域，并取实部
ret=im2uint8(mat2gray(fr));    %更改图像类型
subplot(2,2,4);imshow(ret),title('逆傅里叶变换');
```


> 4、平滑频域滤波
1)	设计理想低通滤波器、巴特沃斯低通滤波器和高斯低通滤波器，截止频率自选。
```matlab
```

2)读出一幅灰度图像，分别采用理想低通滤波器、巴特沃斯低通滤波器和高斯低通滤波器对其进行滤波（截止频率自选），再做逆变换，观察不同的截止频率下采用不同低通滤波器得到的图像与原图像的区别，特别注意振铃效应。
```matlab
```

>  5、锐化频域滤波
1)	设计理想高通滤波器、巴特沃斯高通滤波器和高斯高通滤波器，截止频率自选。
```matlab


```


2)	读出一幅灰度图像，分别采用理想高通滤波器、巴特沃斯高通滤波器和高斯高通滤波器对其进行滤波（截止频率自选），再做逆变换，观察不同的截止频率下采用不同高通滤波器得到的图像与原图像的区别。
```matlab


```
